<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>reprex venue RTF • reprex</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="../../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><link href="../../tidyverse-2.css" rel="stylesheet">
<meta property="og:title" content="reprex venue RTF">
<meta property="og:description" content="">
<meta property="og:image" content="https://reprex.tidyverse.org/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../../index.html">reprex</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of the <a href="https://tidyverse.org">tidyverse</a></span>
          <span class="version version-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0.9001</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../../articles/reprex-dos-and-donts.html">Reprex do's and don'ts</a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/articles/datapasta-reprex.html">Using datapasta with reprex</a>
    </li>
    <li>
      <a href="../../articles/articles/learn-reprex.html">How to use reprex</a>
    </li>
    <li>
      <a href="../../articles/articles/magic-reprex.html">Magic reprex</a>
    </li>
    <li>
      <a href="../../articles/articles/rtf.html">reprex venue RTF</a>
    </li>
    <li>
      <a href="../../articles/articles/suppress-startup-messages.html">Suppress package startup messages</a>
    </li>
    <li>
      <a href="../../articles/reprex-dos-and-donts.html">Reprex do's and don'ts</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/tidyverse/reprex">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>reprex venue RTF</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/reprex/blob/master/vignettes/articles/rtf.Rmd"><code>vignettes/articles/rtf.Rmd</code></a></small>
      <div class="hidden name"><code>rtf.Rmd</code></div>

    </div>

    
    
<p>Use <code><a href="../../reference/reprex_VENUE.html">reprex_rtf()</a></code> or <code><a href="../../reference/reprex.html">reprex(venue = "rtf")</a></code> to get output in <a href="https://en.wikipedia.org/wiki/Rich_Text_Format">Rich Text Format</a>. This is useful for creating syntax highlighted code snippets – rendered or not – to paste into software such as Keynote or PowerPoint.</p>
<p>Why is RTF special? Although Pandoc can produce RTF and, therefore, so can <code><a href="https://rdrr.io/pkg/rmarkdown/man/render.html">rmarkdown::render()</a></code> and <code><a href="../../reference/reprex.html">reprex::reprex()</a></code>, Pandoc’s syntax highlighting is unavailable for RTF output. For now, we’ve got to get the functionality from somewhere else. Syntax highlighting is a non-issue for <code>venue = "gh"</code> (GitHub) and <code>venue = "so"</code> (Stack Overflow), because the target sites take care of that when the Markdown content is displayed.</p>
<p>
</p>
<div style="height: auto">
<p><img src="https://raw.githubusercontent.com/tidyverse/reprex/master/img/reprex_rtf_jennybryan.gif" alt="Gif of setting options to control highlight and using reprex with the RTF venue" style="width: 100%;max-height: 100%"></p>
</div>

<p><code><a href="../../reference/reprex.html">reprex(venue = "rtf")</a></code> was introduced in v0.2.1 and is experimental. It requires the installation of the <a href="http://www.andre-simon.de/doku/highlight/en/highlight.php">highlight</a> command line tool and has only been tested on macOS. It is useful to me already and accumulating some usage is the best way to figure out how to make it useful to others. It would be preferable to use something like the <a href="https://cran.r-project.org/package=highlight">highlight package</a> at some point in the future, but let us experiment with this hack in the meantime.</p>
<p>If you use <a href="https://brew.sh">homebrew</a>, here’s an easy way to install highlight from the shell:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="ex">brew</span> install highlight</span></code></pre></div>
<p>Here is the highlight call implied by the default behaviour of <code><a href="../../reference/reprex_VENUE.html">reprex_rtf(...)</a></code> or <code><a href="../../reference/reprex.html">reprex(..., venue = "rtf")</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1"></a><span class="ex">highlight</span> foo_reprex.R --out-format rtf --no-trailing-nl --encoding=UTF-8 --style darkbone --font <span class="st">'Courier Regular'</span> --font-size 50 <span class="op">&gt;</span> foo_reprex.rtf</span></code></pre></div>
<div id="basic-usage" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-usage" class="anchor"></a>Basic usage</h2>
<p>Let’s reprex some code and stick it on a Keynote slide with other non-R “features”.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw"><a href="../../reference/reprex.html">reprex</a></span>({</span>
<span id="cb3-2"><a href="#cb3-2"></a>  (x &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">3</span>))</span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(x)</span>
<span id="cb3-4"><a href="#cb3-4"></a>}, <span class="dt">venue =</span> <span class="st">"rtf"</span>)</span></code></pre></div>
<p><img src="img/keynote-w00t.png" width="75%"></p>
</div>
<div id="highlight-options" class="section level2">
<h2 class="hasAnchor">
<a href="#highlight-options" class="anchor"></a>highlight options</h2>
<p>If you don’t like the defaults, control highlight command line arguments by setting <code>reprex.highlight.*</code> options. Why options? I didn’t want to burden <code><a href="../../reference/reprex.html">reprex()</a></code> with even more arguments and this is usually something you want to set globally for yourself or for an entire project or talk or course.</p>
<p>Example of setting options in <code>.Rprofile</code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw"><a href="https://rdrr.io/r/base/options.html">options</a></span>(</span>
<span id="cb4-2"><a href="#cb4-2"></a>  <span class="dt">reprex.highlight.hl_style  =</span> <span class="st">"darkbone"</span>,</span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="dt">reprex.highlight.font      =</span> <span class="st">"Source Code Pro"</span>,</span>
<span id="cb4-4"><a href="#cb4-4"></a>  <span class="dt">reprex.highlight.font_size =</span> <span class="dv">50</span></span>
<span id="cb4-5"><a href="#cb4-5"></a>)</span></code></pre></div>
<p>The supported options are <code>reprex.highlight.hl_style</code>, <code>reprex.highlight.font</code>, <code>reprex.highlight.font_size</code> (all shown above), and <code>reprex.highlight.other</code> (a catchall for anything else, shown below).</p>
<p>You could set options for all your reprexing by doing this in your user-level <code>.Rprofile</code>. Create or open this file via <code>usethis::edit_r_profile()</code>.</p>
<p>You could also set options for a specific Project in <code>.Rprofile</code> inside the Project. Create or open this file via <code>usethis::edit_r_profile("project")</code>.</p>
<p><code>hl_style</code> must be one of your existing highlight themes and <code>font</code> must be one of your installed fonts.</p>
<p>List available themes:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1"></a><span class="ex">highlight</span> --list-scripts=themes</span></code></pre></div>
<p>But what do these themes <em>look like</em>? Here are some galleries that probably have high overlap with your themes:</p>
<p><a href="http://www.andre-simon.de/doku/highlight/en/theme-samples.php" class="uri">http://www.andre-simon.de/doku/highlight/en/theme-samples.php</a><br><a href="https://rclickhandbuch.files.wordpress.com/2014/09/knitrthemesoverview.pdf" class="uri">https://rclickhandbuch.files.wordpress.com/2014/09/knitrthemesoverview.pdf</a></p>
<p>You can also override defaults on-the-fly. Here’s how to do that for a single call using withr and, as a bonus, how to use <code>reprex.highlight.other</code> to send arbitrary command line arguments to highlight:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>withr<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/withr/man/with_options.html">with_options</a></span>(</span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="dt">new =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(</span>
<span id="cb6-3"><a href="#cb6-3"></a>    <span class="dt">reprex.highlight.hl_style  =</span> <span class="st">"dusk"</span>,</span>
<span id="cb6-4"><a href="#cb6-4"></a>    <span class="dt">reprex.highlight.font      =</span> <span class="st">"Fira Code Regular"</span>,</span>
<span id="cb6-5"><a href="#cb6-5"></a>    <span class="dt">reprex.highlight.font_size =</span> <span class="dv">35</span>,</span>
<span id="cb6-6"><a href="#cb6-6"></a>    <span class="dt">reprex.highlight.other     =</span> <span class="st">"--line-numbers --line-number-length=2 --zeroes"</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>  ),</span>
<span id="cb6-8"><a href="#cb6-8"></a>  reprex<span class="op">::</span><span class="kw"><a href="https://reprex.tidyverse.org/reference/reprex.html">reprex</a></span>(<span class="dt">input =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"(x &lt;- rnorm(3))"</span>, <span class="st">"mean(x)"</span>), <span class="dt">venue =</span> <span class="st">"rtf"</span>)</span>
<span id="cb6-9"><a href="#cb6-9"></a>)</span></code></pre></div>
<p><img src="img/dusk-fira-35-line-numbers.png" width="60%"></p>
<p>Here’s how to set highlight options for part of an R session:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>op &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/options.html">options</a></span>(</span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="dt">reprex.highlight.hl_style  =</span> <span class="st">"anotherdark"</span>,</span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="dt">reprex.highlight.font      =</span> <span class="st">"Andale Mono Regular"</span>,</span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="dt">reprex.highlight.font_size =</span> <span class="dv">60</span>,</span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="dt">reprex.highlight.other     =</span> <span class="st">"--line-numbers"</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>)</span>
<span id="cb7-7"><a href="#cb7-7"></a></span>
<span id="cb7-8"><a href="#cb7-8"></a>reprex<span class="op">::</span><span class="kw"><a href="https://reprex.tidyverse.org/reference/reprex.html">reprex</a></span>(<span class="dt">input =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"(x &lt;- rnorm(3))"</span>, <span class="st">"mean(x)"</span>), <span class="dt">venue =</span> <span class="st">"rtf"</span>)</span>
<span id="cb7-9"><a href="#cb7-9"></a></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="kw"><a href="https://rdrr.io/r/base/options.html">options</a></span>(op)</span></code></pre></div>
<p><img src="img/anotherdark-andale-60-line-numbers.png" width="85%"></p>
</div>
<div id="run-or-not" class="section level2">
<h2 class="hasAnchor">
<a href="#run-or-not" class="anchor"></a>Run … or not</h2>
<p>If you just want to highlight code, but not run it, set chunk option <code>eval = FALSE</code> option, i.e. put a special comment as the first line of your reprex source:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co">#+ eval = FALSE</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>(x &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">3</span>))</span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(x)</span></code></pre></div>
<p>The above source, when <code><a href="../../reference/reprex.html">reprex()</a></code>ed, will not include the usual output. This is not specific to <code>venue = "rtf"</code>, but it’s more likely to come up in this setting.</p>
<p><img src="img/eval-false.png" width="20%"></p>
</div>
<div id="what-if-each-snippet-cant-be-self-contained" class="section level2">
<h2 class="hasAnchor">
<a href="#what-if-each-snippet-cant-be-self-contained" class="anchor"></a>What if each snippet can’t be self-contained?</h2>
<div id="reprexprex-and-friends" class="section level3">
<h3 class="hasAnchor">
<a href="#reprexprex-and-friends" class="anchor"></a><code>reprex:::prex()</code> and friends</h3>
<p>When preparing bits of code for a presentation, it can be impractical to make each snippet completely self-contained. You really need to run the snippets in the current workspace and session. But <code><a href="../../reference/reprex.html">reprex()</a></code> does not allow this.</p>
<p>The <strong>unexported</strong> function <code>prex()</code> addresses this use case. It’s like <code><a href="../../reference/reprex.html">reprex()</a></code>, but much less reproducible!</p>
<ul>
<li>Code is evaluated in the global environment of the current R session.</li>
<li>Current working directory is used.</li>
<li>
<code>advertise = FALSE</code> is the default.</li>
</ul>
<p><code>prex()</code> also has “venue as suffix” variants, so <code>reprex:::prex_rtf(...)</code> is short for <code>reprex:::prex(..., venue = "rtf")</code>.</p>
<p>This code defines <code>x</code> and <code>y</code> in the current workspace and writes the file <code>stuff.txt</code> to the current working directory.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>x &lt;-<span class="st"> </span><span class="dv">1</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>y &lt;-<span class="st"> </span><span class="dv">4</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="kw"><a href="https://rdrr.io/r/base/writeLines.html">writeLines</a></span>(<span class="st">"blah blah"</span>, <span class="kw"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span>(), <span class="st">"stuff.txt"</span>))</span></code></pre></div>
<p>Now we can show the difference between <code>prex()</code> and <code><a href="../../reference/reprex.html">reprex()</a></code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw">prex</span>({</span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="kw"><a href="https://rdrr.io/r/base/ls.html">ls</a></span>()</span>
<span id="cb10-3"><a href="#cb10-3"></a>  x <span class="op">+</span><span class="st"> </span>y</span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="kw"><a href="https://rdrr.io/r/base/readLines.html">readLines</a></span>(<span class="st">"stuff.txt"</span>)  </span>
<span id="cb10-5"><a href="#cb10-5"></a>})</span></code></pre></div>
<p>yields</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw"><a href="https://rdrr.io/r/base/ls.html">ls</a></span>()</span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="co">#&gt; [1] "x" "y"</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>x <span class="op">+</span><span class="st"> </span>y</span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">#&gt; [1] 5</span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="kw"><a href="https://rdrr.io/r/base/readLines.html">readLines</a></span>(<span class="st">"stuff.txt"</span>)</span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="co">#&gt; [1] "blah blah"</span></span></code></pre></div>
<p><code>x</code> and <code>y</code> can be found, even though they aren’t defined in the snippet, and <code>stuff.txt</code> can be read.</p>
<p>This is very different from executing the same code via <code><a href="../../reference/reprex.html">reprex()</a></code>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw"><a href="../../reference/reprex.html">reprex</a></span>({</span>
<span id="cb12-2"><a href="#cb12-2"></a>  <span class="kw"><a href="https://rdrr.io/r/base/ls.html">ls</a></span>()</span>
<span id="cb12-3"><a href="#cb12-3"></a>  x <span class="op">+</span><span class="st"> </span>y</span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="kw"><a href="https://rdrr.io/r/base/readLines.html">readLines</a></span>(<span class="st">"stuff.txt"</span>)  </span>
<span id="cb12-5"><a href="#cb12-5"></a>})</span></code></pre></div>
<p>which yields:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw"><a href="https://rdrr.io/r/base/ls.html">ls</a></span>()</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="co">#&gt; character(0)</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>x <span class="op">+</span><span class="st"> </span>y</span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'x' not found</span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="kw"><a href="https://rdrr.io/r/base/readLines.html">readLines</a></span>(<span class="st">"stuff.txt"</span>)</span>
<span id="cb13-6"><a href="#cb13-6"></a><span class="co">#&gt; Warning in file(con, "r"): cannot open file 'stuff.txt': No such file or</span></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="co">#&gt; directory</span></span>
<span id="cb13-8"><a href="#cb13-8"></a><span class="co">#&gt; Error in file(con, "r"): cannot open the connection</span></span></code></pre></div>
<p><code>x</code> and <code>y</code> can’t be found, because <code><a href="../../reference/reprex.html">reprex()</a></code> works in a clean session, and <code>stuff.txt</code> can’t be found, because <code><a href="../../reference/reprex.html">reprex()</a></code> works in a temp directory, by default.</p>
<p>If you’re going to <code>prex()</code> a lot, you’ll want to do something like this in your <code>.R</code> file of snippets or in the project-specific or user-level <code>.Rprofile</code>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>prex &lt;-<span class="st"> </span>reprex<span class="op">:::</span>prex</span>
<span id="cb14-2"><a href="#cb14-2"></a>prex_rtf &lt;-<span class="st"> </span>reprex<span class="op">:::</span>prex_rtf</span></code></pre></div>
</div>
</div>
<div id="selectively-hide-and-reveal-code" class="section level2">
<h2 class="hasAnchor">
<a href="#selectively-hide-and-reveal-code" class="anchor"></a>Selectively hide and reveal code</h2>
<p><em>Before <code>prex()</code> existed, you had to use a more cumbersome technique to produce small snippets, by hiding code. We leave this here in case it is still useful in some situations.</em></p>
<p>You can use knitr chunk options to selectively hide code, i.e. to run a large snippet, but only include a small bit in the output.</p>
<p>This is easiest to show by example. If you <code><a href="../../reference/reprex.html">reprex()</a></code> this code, only the last three lines and their output will appear in the output. But the other lines will be run, i.e. <code>str_reverse()</code> will be defined, as will the <code>bizzaro()</code> generic and default method.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co">#+ include = FALSE</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>str_reverse &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</span>
<span id="cb15-3"><a href="#cb15-3"></a>  <span class="kw"><a href="https://rdrr.io/r/base/lapply.html">vapply</a></span>(</span>
<span id="cb15-4"><a href="#cb15-4"></a>    <span class="kw"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span>(x, <span class="st">""</span>),</span>
<span id="cb15-5"><a href="#cb15-5"></a>    <span class="dt">FUN =</span> <span class="cf">function</span>(z) <span class="kw"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/rev.html">rev</a></span>(z), <span class="dt">collapse =</span> <span class="st">""</span>),</span>
<span id="cb15-6"><a href="#cb15-6"></a>    <span class="dt">FUN.VALUE =</span> <span class="st">""</span>)</span>
<span id="cb15-7"><a href="#cb15-7"></a>}</span>
<span id="cb15-8"><a href="#cb15-8"></a></span>
<span id="cb15-9"><a href="#cb15-9"></a><span class="co">#+ include = FALSE</span></span>
<span id="cb15-10"><a href="#cb15-10"></a>bizarro &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</span>
<span id="cb15-11"><a href="#cb15-11"></a>  <span class="kw"><a href="https://rdrr.io/r/base/UseMethod.html">UseMethod</a></span>(<span class="st">"bizarro"</span>)</span>
<span id="cb15-12"><a href="#cb15-12"></a>}</span>
<span id="cb15-13"><a href="#cb15-13"></a>bizarro.default &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</span>
<span id="cb15-14"><a href="#cb15-14"></a>  <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span>(</span>
<span id="cb15-15"><a href="#cb15-15"></a>    <span class="st">"Don't know how to make bizzaro &lt;"</span>,</span>
<span id="cb15-16"><a href="#cb15-16"></a>    <span class="kw"><a href="https://rdrr.io/r/base/class.html">class</a></span>(x)[[<span class="dv">1</span>]], <span class="st">"&gt;"</span>,</span>
<span id="cb15-17"><a href="#cb15-17"></a>    <span class="dt">call. =</span> <span class="ot">FALSE</span></span>
<span id="cb15-18"><a href="#cb15-18"></a>  )</span>
<span id="cb15-19"><a href="#cb15-19"></a>}</span>
<span id="cb15-20"><a href="#cb15-20"></a></span>
<span id="cb15-21"><a href="#cb15-21"></a><span class="co">#+ include = TRUE</span></span>
<span id="cb15-22"><a href="#cb15-22"></a>bizarro.character &lt;-<span class="st"> </span><span class="cf">function</span>(x) <span class="kw">str_reverse</span>(x)</span>
<span id="cb15-23"><a href="#cb15-23"></a></span>
<span id="cb15-24"><a href="#cb15-24"></a><span class="kw">bizarro</span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"abc"</span>, <span class="st">"def"</span>))</span>
<span id="cb15-25"><a href="#cb15-25"></a></span>
<span id="cb15-26"><a href="#cb15-26"></a><span class="kw">bizarro</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</span></code></pre></div>
<p><img src="img/bizarro-selective-reveal.png" width="70%"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#basic-usage">Basic usage</a></li>
      <li><a href="#highlight-options">highlight options</a></li>
      <li><a href="#run-or-not">Run … or not</a></li>
      <li><a href="#what-if-each-snippet-cant-be-self-contained">What if each snippet can’t be self-contained?</a></li>
      <li><a href="#selectively-hide-and-reveal-code">Selectively hide and reveal code</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="tidyverse">
  <p>reprex is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="https://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>
    Developed by <a href="https://jennybryan.org">Jennifer Bryan</a>, Jim Hester, David Robinson, <a href="http://hadley.nz">Hadley Wickham</a>, <a href="https://www.rstudio.com"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" height="24"></a>.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
</div>

  


  </body>
</html>
